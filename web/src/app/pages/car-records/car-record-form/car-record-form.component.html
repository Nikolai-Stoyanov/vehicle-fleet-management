<form [formGroup]="form" (ngSubmit)="onSubmit()" *ngIf="form">
  <nz-card [nzTitle]="cardTitleTemplate">
    <div nz-row nzGutter="24">
      <div nz-col nzSpan="8">
        <vfm-form-item label="Description" controlSpan="24" i18n-label>
          <vfm-text-input
            id="description"
            formControlName="description"
          ></vfm-text-input>
        </vfm-form-item>
      </div>
      <ng-container formGroupName="registrationCertificateData">
        <div nz-col nzSpan="6">
          <vfm-form-item label="Vehicle type" controlSpan="24" i18n-label>
            <vfm-select id="vehicleType" formControlName="vehicleType" [options]="vehicleOptions">
            </vfm-select>
          </vfm-form-item>
        </div>
        <div nz-col nzSpan="5">
          <vfm-form-item label="Brand" controlSpan="24" i18n-label>
            <vfm-text-input id="brand" formControlName="brand"></vfm-text-input>
          </vfm-form-item>
        </div>
        <div nz-col nzSpan="5">
          <vfm-form-item label="Model" controlSpan="24" i18n-label>
            <vfm-select id="model" formControlName="model" [options]="carModelOptions"></vfm-select>
          </vfm-form-item>
        </div>

        <div nz-col nzSpan="6">
          <vfm-form-item label="Frame number" controlSpan="24" i18n-label>
            <vfm-text-input
              id="frameNumber"
              formControlName="frameNumber"
            ></vfm-text-input>
          </vfm-form-item>
        </div>
        <div nz-col nzSpan="6">
          <vfm-form-item label="Engine number" controlSpan="24" i18n-label>
            <vfm-text-input
              id="engineNumber"
              formControlName="engineNumber"
            ></vfm-text-input>
          </vfm-form-item>
        </div>
        <div nz-col nzSpan="4">
          <vfm-form-item label="Power (hp / kW)" controlSpan="24" i18n-label>
            <nz-input-group nzCompact>
              <vfm-number-input
                [min]="0"
                style="width: 45%"
                id="horsePower"
                formControlName="horsePower"
              ></vfm-number-input>
              <span style="width: 10%; text-align: center"> / </span>

              <vfm-number-input
                [min]="0"
                style="width: 45%"
                id="enginePower"
                formControlName="enginePower"
              ></vfm-number-input>
            </nz-input-group>
          </vfm-form-item>
        </div>
        <div nz-col nzSpan="4">
          <vfm-form-item label="Engine volume" controlSpan="24" i18n-label>
            <vfm-number-input
              id="engineVolume"
              formControlName="engineVolume"
            ></vfm-number-input>
          </vfm-form-item>
        </div>
        <div nz-col nzSpan="4">
          <vfm-form-item
            label="Seating capacity"
            controlSpan="24"
            style="display: flex"
            i18n-label
          >
            <nz-input-group
              class="prefix"
              [nzAddOnBefore]="prefixTemplate"
            >
              <vfm-number-input
                [min]="0"
                id="seatingCapacity"
                formControlName="seatingCapacity"
              ></vfm-number-input>
            </nz-input-group>
          </vfm-form-item>
        </div>
        <div nz-col nzSpan="5">
          <vfm-form-item label="Color (primary)" controlSpan="24" i18n-label>
            <vfm-text-input
              id="primaryColor"
              formControlName="primaryColor"
            ></vfm-text-input>
          </vfm-form-item>
        </div>
        <div nz-col nzSpan="5">
          <vfm-form-item label="Color (additional)" controlSpan="24" i18n-label>
            <vfm-text-input
              id="additionalColor"
              formControlName="additionalColor"
            ></vfm-text-input>
          </vfm-form-item>
        </div>
        <div nz-col nzSpan="4">
          <vfm-form-item label="Load capacity" controlSpan="24" i18n-label>
            <vfm-number-input
              [min]="0"
              id="loadCapacity"
              formControlName="loadCapacity"
            ></vfm-number-input>
          </vfm-form-item>
        </div>
      </ng-container>
        <div nz-col nzSpan="4">
          <vfm-form-item label="Total mileage" controlSpan="24" i18n-label>
            <vfm-number-input
              [min]="0"
              id="totalMileage"
              formControlName="totalMileage"
            ></vfm-number-input>
          </vfm-form-item>
        </div>
        <div nz-col nzSpan="6">
          <vfm-form-item label="Development (km) from / to" controlSpan="24" i18n-label>
            <nz-input-group nzCompact>
              <vfm-number-input
                [min]="0"
                style="width: 45%"
                id="developmentFromMileage"
                formControlName="developmentFromMileage"
              ></vfm-number-input>
              <span style="width: 10%; text-align: center"> / </span>

              <vfm-number-input
                [min]="0"
                style="width: 45%"
                id="developmentToMileage"
                formControlName="developmentToMileage"
              ></vfm-number-input>
            </nz-input-group>
          </vfm-form-item>
        </div>

        <div nz-col nzSpan="8">
          <vfm-form-item label="Owner" controlSpan="24" i18n-label>
            <vfm-text-input
              id="owner"
              formControlName="owner"
            ></vfm-text-input>
          </vfm-form-item>
        </div>
        <div nz-col nzSpan="8">
          <vfm-form-item label="Department" controlSpan="24" i18n-label>
            <vfm-text-input
              id="department"
              formControlName="department"
            ></vfm-text-input>
          </vfm-form-item>
        </div>
        <div nz-col nzSpan="8">
          <vfm-form-item label="Responsible" controlSpan="24" i18n-label>
            <vfm-select id="responsible" formControlName="responsible" [options]="carPersonOptions"></vfm-select>
          </vfm-form-item>
        </div>
        <div nz-col nzSpan="6">
          <vfm-form-item label="Driver" controlSpan="24" i18n-label>
            <vfm-select id="driver" formControlName="driver" [options]="carPersonOptions"></vfm-select>
          </vfm-form-item>
        </div>

        <div nz-col nzSpan="6">
          <vfm-form-item label="Stay place" controlSpan="24" i18n-label>
            <vfm-text-input
              id="stay"
              formControlName="stay"
            ></vfm-text-input>
          </vfm-form-item>
        </div>
      <div nz-col nzSpan="6">
        <vfm-form-item label="Fuel card" controlSpan="24" i18n-label>
          <vfm-text-input
            id="fuelCard"
            formControlName="fuelCard"
          ></vfm-text-input>
        </vfm-form-item>
      </div>
      <div nz-col nzSpan="6">
        <vfm-form-item label="Fuel type" i18n-label>

          <vfm-select id="fuelType"
                      formControlName="fuelType" [options]="fuelOptions"></vfm-select>
        </vfm-form-item>
      </div>

      <div nz-col nzSpan="5">
        <vfm-form-item label="Created by" controlSpan="24" i18n-label>
          <vfm-text-input
            id="createdBy"
            formControlName="createdBy"
          ></vfm-text-input>
        </vfm-form-item>
      </div>
      <div nz-col nzSpan="5">
        <vfm-form-item label="Created date" controlSpan="24" i18n-label>
          <vfm-text-input
            id="createdAt"
            formControlName="createdAt"
          ></vfm-text-input>
        </vfm-form-item>
      </div>
      <div nz-col nzSpan="5">
        <vfm-form-item label="Modify by" controlSpan="24" i18n-label>
          <vfm-text-input
            id="updatedBy"
            formControlName="updatedBy"
          ></vfm-text-input>
        </vfm-form-item>
      </div>
      <div nz-col nzSpan="5">
        <vfm-form-item label="Modify date" controlSpan="24" i18n-label>
          <vfm-text-input
            id="updatedAt"
            formControlName="updatedAt"
          ></vfm-text-input>
        </vfm-form-item>
      </div>
      <div nz-col nzSpan="4">
        <vfm-form-item label="" controlSpan="24" >
          <label nz-checkbox id="status" formControlName="status" i18n
          >Is active</label>
        </vfm-form-item>
      </div>
    </div>
  </nz-card>

  <ng-template #cardTitleTemplate>
    <div nz-row nzGutter="12">
      <div nz-col nzSpan="4">
        <vfm-form-item label="Id" labelSpan="4" controlSpan="20" i18n-label>
          <vfm-text-input id="id" formControlName="id"></vfm-text-input>
        </vfm-form-item>
      </div>
      <div nz-col nzSpan="4">
        <vfm-form-item label="Driving category" labelSpan="12" controlSpan="12" i18n-label>
          <vfm-select id="drivingCategory" formControlName="drivingCategory" [options]="categoryOptions" i18n>
          </vfm-select>
        </vfm-form-item>
      </div>
      <ng-container formGroupName="registrationCertificateData">
        <div nz-col nzSpan="7">
          <vfm-form-item label="Registration number" labelSpan="12" controlSpan="12" i18n-label>
            <vfm-text-input
              id="registrationNumber"
              formControlName="registrationNumber"
            ></vfm-text-input>
          </vfm-form-item>
        </div>

        <div nz-col nzSpan="9">
          <vfm-form-item label="First registration date" labelSpan="10" controlSpan="14" i18n-label>
            <vfm-datepicker
              id="firstRegistrationDate"
              formControlName="firstRegistration"
            ></vfm-datepicker>
          </vfm-form-item>
        </div>
      </ng-container>
    </div>
  </ng-template>

  <div nz-row nzGutter="20" nzJustify="end" style="margin: 10px">
    <div nz-col>
      <button nz-button type="submit" nzType="primary" i18n>Save</button>
    </div>
  </div>
</form>

<ng-template #prefixTemplate>
  <span>1 + </span>
</ng-template>
