<form [formGroup]="form" (ngSubmit)="onSubmit()" *ngIf="form">
  <nz-card style="margin: 0.5em 0">
    <div nz-row nzGutter="24">
      <div nz-col nzSpan="6">
        <vfm-form-item label="Id" labelSpan="6" controlSpan="18">
          <vfm-text-input
            id="id"
            formControlName="id"
          ></vfm-text-input>
        </vfm-form-item>
      </div>
      <div nz-col nzSpan="6">
        <vfm-form-item label="Date from" labelSpan="8" controlSpan="16">
          <vfm-datepicker
            id="dateFrom"
            formControlName="dateFrom"
          ></vfm-datepicker>
        </vfm-form-item>
      </div>
      <div nz-col nzSpan="6">
        <vfm-form-item label="Period" labelSpan="8" controlSpan="16">
          <vfm-text-input id="period" formControlName="period"></vfm-text-input>
        </vfm-form-item>
      </div>
      <div nz-col nzSpan="6">
        <vfm-form-item label="Old report(km)" labelSpan="12" controlSpan="12">
          <vfm-text-input id="oldReport" formControlName="oldReport"></vfm-text-input>
        </vfm-form-item>
      </div>
      <div nz-col nzSpan="6">
        <vfm-form-item label="Responsible" labelSpan="12" controlSpan="12">
          <vfm-text-input id="responsible" formControlName="responsible"></vfm-text-input>
        </vfm-form-item>
      </div>
      <div nz-col nzSpan="8">
        <vfm-form-item label="Registration number" labelSpan="12" controlSpan="12">
          <vfm-text-input id="registrationNumber" formControlName="registrationNumber"></vfm-text-input>
        </vfm-form-item>
      </div>
      <div nz-col nzSpan="6">
        <vfm-form-item label="New report(km)" labelSpan="12" controlSpan="12">
          <vfm-text-input id="newReport" formControlName="newReport"></vfm-text-input>
        </vfm-form-item>
      </div>

      <div nz-col nzSpan="4">
        <vfm-form-item label="Mileage" labelSpan="12" controlSpan="12">
          <vfm-text-input id="mileage" formControlName="mileage"></vfm-text-input>
        </vfm-form-item>
      </div>
    </div>
  </nz-card>
  <nz-card
    nzTitle="Distribution by fuel types"
    [nzSize]="'small'"
    [nzBodyStyle]="{ padding: '10px 15px' }"
  >
    <div
      formArrayName="fuels"
      *ngIf="form.value['fuels'].length > 0"
    >
      <div
        nz-col
        nzSpan="24"
        class="container"
        *ngFor="
              let item of getFuelOptionsControls;
              index as fuelOptionIndex
            "
      >
        <div nz-row [formGroupName]="fuelOptionIndex" nzGutter="10">
          <div nz-col nzSpan="3">
            <vfm-form-item label="Type">
              <vfm-text-input
                id="type{{ fuelOptionIndex }}"
                formControlName="type"
              >
              </vfm-text-input>
            </vfm-form-item>
          </div>
          <div nz-col nzSpan="3">
            <vfm-form-item label="Tank volume">
              <vfm-number-input
                id="tankCapacity{{ fuelOptionIndex }}"
                formControlName="tankCapacity"
              >
              </vfm-number-input>
            </vfm-form-item>
          </div>
          <div nz-col nzSpan="3">
            <vfm-form-item label="Fuel remaining">
              <vfm-number-input
                id="fuelRemaining{{ fuelOptionIndex }}"
                formControlName="fuelRemaining"
              >
              </vfm-number-input>
            </vfm-form-item>
          </div>
          <div nz-col nzSpan="3">
            <vfm-form-item label="Fuel consumption">
              <vfm-number-input
                id="fuelConsumption{{ fuelOptionIndex }}"
                formControlName="fuelConsumption"
              >
              </vfm-number-input>
            </vfm-form-item>
          </div>
          <div nz-col nzSpan="3">
            <vfm-form-item label="Mileage">
              <vfm-number-input
                id="mileage{{ fuelOptionIndex }}"
                formControlName="mileage"
              >
              </vfm-number-input>
            </vfm-form-item>
          </div>
          <div nz-col nzSpan="3">
            <vfm-form-item label="Distance limit">
              <vfm-number-input
                id="distanceLimit{{ fuelOptionIndex }}"
                formControlName="distanceLimit"
              >
              </vfm-number-input>
            </vfm-form-item>
          </div>
          <div nz-col nzSpan="3">
            <vfm-form-item label="Distance remaining">
              <vfm-number-input
                id="distanceRemaining{{ fuelOptionIndex }}"
                formControlName="distanceRemaining"
              >
              </vfm-number-input>
            </vfm-form-item>
          </div>
          <div nz-col nzSpan="3">
            <vfm-form-item label="Money limit">
              <vfm-number-input
                id="moneyLimit{{ fuelOptionIndex }}"
                formControlName="moneyLimit"
              >
              </vfm-number-input>
            </vfm-form-item>
          </div>
        </div>
      </div>
    </div>
    <div nz-col nzSpan="24" *ngIf="form.value['fuels'].length === 0">
      Empty
    </div>
  </nz-card>
  <div nz-row nzGutter="12">
    <div nz-col nzSpan="6">
      <vfm-form-item label="Created by" controlSpan="24">
        <vfm-text-input
          id="createdBy"
          formControlName="createdBy"
        ></vfm-text-input>
      </vfm-form-item>
    </div>
    <div nz-col nzSpan="6">
      <vfm-form-item label="Created date" controlSpan="24">
        <vfm-text-input
          id="createdDate"
          formControlName="createdDate"
        ></vfm-text-input>
      </vfm-form-item>
    </div>
    <div nz-col nzSpan="6">
      <vfm-form-item label="Modify by" controlSpan="24">
        <vfm-text-input
          id="modifyBy"
          formControlName="modifyBy"
        ></vfm-text-input>
      </vfm-form-item>
    </div>
    <div nz-col nzSpan="6">
      <vfm-form-item label="Modify date" controlSpan="24">
        <vfm-text-input
          id="modifyDate"
          formControlName="modifyDate"
        ></vfm-text-input>
      </vfm-form-item>
    </div>
  </div>
<!--  <nz-card nzTitle="Distribution by fuel types" style="margin: 0.5em 0">-->
<!--    <div nz-row nzGutter="10">-->

<!--      <div nz-col class="gutter-row" nzSpan="2">-->
<!--        <vfm-form-item label="Ост. гориво (л)" controlSpan="24">-->
<!--          <vfm-number-input [min]="0"></vfm-number-input>-->
<!--          <vfm-number-input [min]="0"></vfm-number-input>-->
<!--          <vfm-number-input [min]="0"></vfm-number-input>-->
<!--        </vfm-form-item>-->
<!--      </div>-->
<!--      <div nz-col class="gutter-row" nzSpan="2">-->
<!--        <vfm-form-item label="Обем (л)" controlSpan="24">-->
<!--          <vfm-number-input [min]="0"></vfm-number-input>-->
<!--          <vfm-number-input [min]="0"></vfm-number-input>-->
<!--          <vfm-number-input [min]="0"></vfm-number-input>-->
<!--        </vfm-form-item>-->
<!--      </div>-->
<!--      <div nz-col class="gutter-row" nzSpan="2">-->
<!--        <vfm-form-item label="Измин. км" controlSpan="24">-->
<!--          <vfm-number-input [min]="0"></vfm-number-input>-->
<!--          <vfm-number-input [min]="0"></vfm-number-input>-->
<!--          <vfm-number-input [min]="0"></vfm-number-input>-->
<!--        </vfm-form-item>-->
<!--      </div>-->
<!--      <div nz-col class="gutter-row" nzSpan="2">-->
<!--        <vfm-form-item label="Разход (км)" controlSpan="24">-->
<!--          <vfm-number-input [min]="0"></vfm-number-input>-->
<!--          <vfm-number-input [min]="0"></vfm-number-input>-->
<!--          <vfm-number-input [min]="0"></vfm-number-input>-->
<!--        </vfm-form-item>-->
<!--      </div>-->
<!--      <div nz-col class="gutter-row" nzSpan="2">-->
<!--        <vfm-form-item label="Остатък (км)" controlSpan="24">-->
<!--          <vfm-number-input [min]="0"></vfm-number-input>-->
<!--          <vfm-number-input [min]="0"></vfm-number-input>-->
<!--          <vfm-number-input [min]="0"></vfm-number-input>-->
<!--        </vfm-form-item>-->
<!--      </div>-->
<!--      <div nz-col class="gutter-row" nzSpan="2">-->
<!--        <vfm-form-item label="Разход (лв)" controlSpan="24">-->
<!--          <vfm-number-input [min]="0"></vfm-number-input>-->
<!--          <vfm-number-input [min]="0"></vfm-number-input>-->
<!--          <vfm-number-input [min]="0"></vfm-number-input>-->
<!--        </vfm-form-item>-->
<!--      </div>-->
<!--      <div nz-col class="gutter-row" nzSpan="2">-->
<!--        <vfm-form-item label="Остатък (лв)" controlSpan="24">-->
<!--          <vfm-number-input [min]="0"></vfm-number-input>-->
<!--          <vfm-number-input [min]="0"></vfm-number-input>-->
<!--          <vfm-number-input [min]="0"></vfm-number-input>-->
<!--        </vfm-form-item>-->
<!--      </div>-->
<!--    </div>-->
<!--  </nz-card>-->
  <div nz-row nzGutter="20" nzJustify="end" style="margin: 10px">
    <div nz-col>
      <button nz-button type="submit" nzType="primary">
        {{ form.getRawValue().id ? "Edit" : "Save" }}
      </button>
    </div>
  </div>
</form>
